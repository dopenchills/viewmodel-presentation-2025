以下が私がプレゼンで言いたいことです。本質的にはどのような主張をしたいのでしょうか。またプレゼンの構成例を教えてください。

# 言いたいことを列挙

フロントエンドとバックエンドの違いを議論されることが多いが、むしろ同じアプリケーションとしての共通点を理解した方が理解が深まる。

フロントエンドとバックエンドを区別するよりも前に、両方ともソフトウェアであることに注目する考え方の方が役立つ。

プラクティスは同じ。核となるロジックと周辺ロジックを切り分け、依存の向きを整理すること。

フロントエンドとバックエンドの役割は要件による。一概に言うのはおかしい。

例えば、「フロントエンドのバリデーションはUXのため」「バックエンドのバリデーションの役割はシステムを守るため」というような主張をよく見かける。これは断言できるものではなく、完全に要件によるとしか言えない。また、この捉え方をしない方がソフトウェアを正確にとらえられているとも言える。


フロントエンドの計算機アプリを例にとる。計算機アプリでは、数値や記号を入力しなければならないので、フロントエンドでバリデーションをかける必要がある。これはUXのためではない。フロントエンドのシステムを守るためにある。

※ 計算機アプリの場合、そもそもUIを工夫することで、バリデーション不要

計算結果を保存する機能が欲しくなったとする。このとき、以下のようなAPIを利用して、保存する。

- LocalStorage
- バックエンドAPI
- DB
- ストレージ

フロントエンド目線、バックエンドはただ永続化や重たい処理をするための一つの手段でしかない。

バックエンドで計算機アプリを実装することになったとする。その場合も、バリデーションはシステムを守るためにある。

計算結果を保存する機能が欲しくなったとする。フロントエンド同様、以下のようなAPIを利用して、保存する

- 別のバックエンドAPI
- DB
- ストレージ

意見として、「バックエンドはデータが正しい状態にあることを保証する必要があるが、フロントエンドはそうではない」という考え方がある。が、それは現実を正しく捉えられていない。

別にバックエンドだって、おかしいデータをDBに投げ入れる戦略だって取れるはずだ。DB側のスキーマのバリデーションに依存すれば、バックエンド側でバリエーションをかける必要はない。

核となるロジックにバリデーションロジックを置いておきたいから、バックエンドにバリデーションを持たせている。DBにバリデーションの責務を持たせていると、DB以外のソリューションに永続化を依存した瞬間にバリデーション
ができなくなる。だからバリデーションは核となるロジックに含めたほうがいい、という見方。

フロントエンドだって同様である。フロントエンドも、バックエンドにバリデーションを丸投げすることだってできる。でもフロントエンドにバリデーションを持たせる。その意義の一つが、バックエンド非依存になること。バックエンドのAPIが変わっても、バックエンドのAPIを完全に別サービスに移行しても、バックエンドじゃなくてDBやストレージサービスに移行しても、核となるロジックに置いたバリデーションロジックはそのまま動作し続けられる。

動作する環境と入出力が違うだけで、フロントエンドもバックエンドも同じアプリケーションである。そう捉える方が現実を正しく捉えられている。

そして上記のことを理解したうえで、フロントエンドとバックエンドをあえて密結合にすることを選択すべきだ。フロントエンドとバックエンドを密結合にするとお互いロックインしてしまう。しかし例えばOpen API記述などを利用してAPI周りが便利になるので、開発スピードを高めることができる。

もちろん、ロックインしてしまったら、フロントエンド目線、依存の移行が難しくなる。バックエンドAPIの変更には弱くなるし、永続化にバックエンド以外の選択肢を取ることも難しくなる。そのトレードオフを理解すべきだ。


# スライドの構成

## 主張

フロントエンドとバックエンドは本質的に同じ"ソフトウェア"と捉える


## フロントエンドとバックエンドのよくある議論

バリデーションに関して、以下のような議論が見られる

- フロントエンド側: UXのために実装する
- バックエンド側: システムを守るために実装する

この捉え方は正確ではない





